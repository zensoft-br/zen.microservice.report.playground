{
  "engine": "jsx",
  "template": {
    "source": "export default ({ data }) => {\r\n  return (\r\n    <div className=\"report-container\">\r\n      <header>\r\n        <div className=\"brand\">\r\n          <img src={data.company?.image.url} style={{ width: \"3cm\" }}></img>\r\n        </div>\r\n        <h1 className=\"flex h gap align-center\" style={{ justifyContent: \"space-between\" }}>Orçamento {data.id}\r\n          <img src={`https://barcode.zensoft.com.br?bcid=qrcode&text=${data.id}`} style={{ width: \"1.5cm\" }}></img>\r\n        </h1>\r\n        <dl>\r\n          <div>\r\n            <dt>Empresa</dt>\r\n            <dd>{data.company?.person.name}</dd>\r\n          </div>\r\n          <div>\r\n            <dt>CNPJ</dt>\r\n            <dd>{data.company?.person.documentNumber}</dd>\r\n          </div>\r\n          <div>\r\n            <dt>Telefone</dt>\r\n            <dd>{data.company?.person.phone}</dd>\r\n          </div>\r\n        </dl>\r\n        <dl>\r\n          <div>\r\n            <dt>Cliente</dt>\r\n            <dd>{data.person?.name}</dd>\r\n          </div>\r\n          <div>\r\n            <dt>CNPJ</dt>\r\n            <dd>{data.person?.documentNumber}</dd>\r\n          </div>\r\n          <div>\r\n            <dt>Telefone</dt>\r\n            <dd>{data.person?.phone}</dd>\r\n          </div>\r\n        </dl>\r\n        <dl>\r\n          <div>\r\n            <dt>Data</dt>\r\n            <dd>{data.date}</dd>\r\n          </div>\r\n          <div>\r\n            <dt>Vendedor</dt>\r\n            <dd>{data.personSalesperson?.name}</dd>\r\n          </div>\r\n          <div>\r\n            <dt>Telefone</dt>\r\n            <dd>{data.personSalesperson?.phone}</dd>\r\n          </div>\r\n        </dl>\r\n        <dl>\r\n          <div>\r\n            <dt>Observações</dt>\r\n            <pre>{data.saleProfile?.properties?.quote_comments}</pre>\r\n          </div>\r\n        </dl>\r\n      </header>\r\n      <main>\r\n        <section>\r\n          <div className=\"group-content\">\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Item</th>\r\n                  <th>Código</th>\r\n                  <th>Descrição</th>\r\n                  <th>Proposta</th>\r\n                  <th className=\"number\">Quantidade</th>\r\n                  <th>Moeda</th>\r\n                  <th className=\"number\">Valor unitário</th>\r\n                  <th className=\"number\">Valor unitário BRL</th>\r\n                  <th className=\"number\">Valor total</th>\r\n                  <th>Disponibilidade</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {\r\n                  data.items?.map((item, index1) => (\r\n                    item.proposals.map((proposal, index2) => (\r\n                      <tr key={item.id} style={{ fontStyle: index2 > 0 ? \"italic\" : undefined, opacity: index2 > 0 ? \"0.5\" : undefined }}>\r\n                        <td>{index2 === 0 ? index1 + 1 : undefined}</td>\r\n                        <td>{index2 === 0 ? item.productPacking?.code : undefined}</td>\r\n                        <td>{index2 === 0 ? item.productPacking?.product.description : undefined}</td>\r\n                        <td>{index2 + 1}</td>\r\n                        <td className=\"number\">{formatNumber(item.quantity, { digits: 0 })}</td>\r\n                        <td>{proposal.currency.code}</td>\r\n                        <td className=\"number\">{formatNumber(proposal.unitValue, { digits: 8 })}</td>\r\n                        <td className=\"number\">{formatNumber(proposal.unitValueLocal, { digits: 8 })}</td>\r\n                        <td className=\"number\">{formatNumber(proposal.totalValue)}</td>\r\n                        <td>{formatDate(data.availabilityDate)}</td>\r\n                      </tr>\r\n                    ))\r\n                  ))}\r\n              </tbody>\r\n              <tfoot>\r\n                <tr>\r\n                  <th colSpan={5} className=\"number\">{formatNumber(data.items.reduce((acc, item) => acc + item.proposals[0].quantity, 0))}</th>\r\n                  <th colSpan={4} className=\"number\">{formatNumber(data.items.reduce((acc, item) => acc + item.proposals[0].totalValue, 0))}</th>\r\n                  <th></th>\r\n                </tr>\r\n              </tfoot>\r\n            </table>\r\n          </div>\r\n        </section>\r\n      </main>\r\n      {/* <footer>\r\n        <dl className=\"flex v gap\">\r\n          <div style={{ flex: 1 }}>\r\n            <dt>Observações</dt>\r\n            <dd>aaa</dd>\r\n          </div>\r\n          <div style={{ flex: 1 }}>\r\n            <dt>Observações</dt>\r\n            <dd>aaa</dd>\r\n          </div>\r\n        </dl>\r\n      </footer> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction formatDate(dateString) {\r\n  const options = { year: 'numeric', month: '2-digit', day: '2-digit' };\r\n  return new Date(dateString).toLocaleDateString(\"pt-BR\", options);\r\n}\r\n\r\nfunction formatNumber(number, options = { digits: 2 }) {\r\n  return new Intl.NumberFormat(\"pt-BR\", { minimumFractionDigits: options.digits, maximumFractionDigits: options.digits }).format(number);\r\n}"
  },
  "assets": {
    "styles": ".report-container {\n  position: relative;\n  font-family: \"Segoe UI\", Tahoma, Geneva, Verdana, sans-serif;\n  font-size: 12pt;\n}\n.report-container .status-stamp {\n  position: absolute;\n  top: 50px;\n  right: 50px;\n  font-size: 60pt;\n  font-weight: bold;\n  color: rgba(255, 0, 0, 0.1);\n  transform: rotate(-20deg);\n  pointer-events: none;\n}\n.report-container > header {\n  border-bottom: 3px solid #000;\n  margin-bottom: 2rem;\n}\n.report-container > header .brand {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n.report-container > header h1 {\n  margin: 0;\n  font-size: 20pt;\n}\n.report-container > header dl {\n  display: flex;\n  gap: 2rem;\n  margin-top: 1rem;\n}\n.report-container > header dl div dt {\n  font-size: 8pt;\n  color: #6c757d;\n  text-transform: uppercase;\n  font-weight: bold;\n}\n.report-container > header dl div dd {\n  margin: 0;\n}\n.report-container > main .kpi-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 1rem;\n  margin-bottom: 2rem;\n}\n.report-container > main .kpi-grid dl {\n  border: 1px solid #dee2e6;\n  padding: 1rem;\n  background: #fdfdfd;\n  display: flex;\n  justify-content: space-between;\n}\n.report-container > main .kpi-grid dl dt {\n  font-size: 9pt;\n  color: #6c757d;\n}\n.report-container > main .kpi-grid dl dd {\n  margin: 0;\n  font-size: 16pt;\n  font-weight: bold;\n}\n.report-container > main .kpi-grid dl .kpi-trend {\n  font-size: 8pt;\n  align-self: flex-end;\n}\n.report-container > main section {\n  margin-top: 1.5rem;\n}\n.report-container > main section section {\n  margin-left: 20px;\n  border-left: 1px solid #eee;\n  padding-left: 15px;\n}\n.report-container > main section > header {\n  font-weight: bold;\n  border-bottom: 1px solid #dee2e6;\n  margin-bottom: 0.5rem;\n}\n.report-container > main section .group-content table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-bottom: 0.5rem;\n}\n.report-container > main section .group-content table th {\n  text-align: left;\n  background: #f8f9fa;\n  padding: 8px;\n  font-size: 9pt;\n}\n.report-container > main section .group-content table td {\n  padding: 8px;\n  border-bottom: 1px solid #f1f1f1;\n}\n.report-container > main section .group-content table tfoot td {\n  font-weight: bold;\n  border-top: 2px solid #333;\n}\n.report-container > main section > footer {\n  font-size: 9pt;\n  font-style: italic;\n  color: #6c757d;\n  padding-top: 5px;\n}\n.report-container > footer {\n  margin-top: 4rem;\n  border-top: 2px solid #000;\n  padding-top: 1rem;\n}\n.report-container > footer .signature-block {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 2rem;\n}\n\n.flex {\n  display: flex;\n}\n.flex.h {\n  flex-direction: row;\n}\n.flex.v {\n  flex-direction: column;\n}\n.flex.align-center {\n  align-items: center;\n}\n.flex.gap {\n  gap: 0.5rem;\n}\n\n.text-right,\n.number {\n  text-align: right !important;\n}\n\n.text-success {\n  color: green;\n}\n\n.text-danger {\n  color: red;\n}\n\npre {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n}\n"
  }
}