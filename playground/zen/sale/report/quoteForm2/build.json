{
  "engine": "jsx",
  "template": {
    "source": "export default ({ data = [] }) => {\r\n  return (\r\n    <div className=\"report-wrapper\">\r\n      {data.map((quote) => (\r\n        <div className=\"report-container\">\r\n          <div className=\"stamp\">Orçamento</div>\r\n          <header>\r\n            <div className=\"brand\">\r\n              <img src={quote.company?.image.url} style={{ width: \"3cm\" }}></img>\r\n            </div>\r\n            <h1 className=\"flex h gap align-center\" style={{ justifyContent: \"space-between\" }}>Orçamento {quote.id}\r\n              <img src={`https://barcode.zensoft.com.br?bcid=qrcode&text=${quote.id}`} style={{ width: \"1.5cm\" }}></img>\r\n            </h1>\r\n            <dl>\r\n              <div>\r\n                <dt>Empresa</dt>\r\n                <dd>{quote.company?.person.name}</dd>\r\n              </div>\r\n              <div>\r\n                <dt>CNPJ</dt>\r\n                <dd>{quote.company?.person.documentNumber}</dd>\r\n              </div>\r\n              <div>\r\n                <dt>Telefone</dt>\r\n                <dd>{quote.company?.person.phone}</dd>\r\n              </div>\r\n            </dl>\r\n            <dl>\r\n              <div>\r\n                <dt>Pessoa</dt>\r\n                <dd>{quote.person?.name}</dd>\r\n              </div>\r\n              <div>\r\n                <dt>CNPJ</dt>\r\n                <dd>{quote.person?.documentNumber}</dd>\r\n              </div>\r\n              <div>\r\n                <dt>Telefone</dt>\r\n                <dd>{quote.person?.phone}</dd>\r\n              </div>\r\n            </dl>\r\n            <dl>\r\n              <div>\r\n                <dt>Data</dt>\r\n                <dd>{quote.date}</dd>\r\n              </div>\r\n              <div>\r\n                <dt>Vendedor</dt>\r\n                <dd>{quote.personSalesperson?.name}</dd>\r\n              </div>\r\n              <div>\r\n                <dt>Telefone</dt>\r\n                <dd>{quote.personSalesperson?.phone}</dd>\r\n              </div>\r\n            </dl>\r\n            <dl>\r\n              <div>\r\n                <dt>Observações</dt>\r\n                <pre>{quote.saleProfile?.properties?.quote_comments}</pre>\r\n              </div>\r\n            </dl>\r\n          </header>\r\n          <main>\r\n            <section>\r\n              <div className=\"content\">\r\n                <table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Item</th>\r\n                      <th>Código</th>\r\n                      <th>Descrição</th>\r\n                      <th className=\"number\">Proposta</th>\r\n                      <th className=\"number\">Quantidade</th>\r\n                      <th>Moeda</th>\r\n                      <th className=\"number\">Valor unitário</th>\r\n                      <th className=\"number\">Valor unitário BRL</th>\r\n                      <th className=\"number\">Valor total</th>\r\n                      <th>Disponibilidade</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {\r\n                      quote.items?.map((item, index1) => (\r\n                        (item.proposals.length ? item.proposals : [{}]).map((proposal, index2) => (\r\n                          <tr key={item.id} style={{ fontStyle: index2 > 0 ? \"italic\" : undefined, opacity: index2 > 0 ? \"0.5\" : undefined }}>\r\n                            <td>{index2 === 0 ? index1 + 1 : undefined}</td>\r\n                            <td>{index2 === 0 ? item.productPacking?.code : undefined}</td>\r\n                            <td>{index2 === 0 ? (item.productPacking?.product.description) : undefined}</td>\r\n                            <td className=\"number\">{index2 + 1}</td>\r\n                            <td className=\"number\">{formatNumber(item.quantity, { digits: 0 })}</td>\r\n                            <td>{proposal.currency?.code}</td>\r\n                            <td className=\"number\">{formatNumber(proposal.unitValue, { digits: 8 })}</td>\r\n                            <td className=\"number\">{formatNumber(proposal.unitValueLocal, { digits: 8 })}</td>\r\n                            <td className=\"number\">{formatNumber(proposal.totalValue)}</td>\r\n                            <td>{formatDate(quote.availabilityDate)}</td>\r\n                          </tr>\r\n                        ))\r\n                      ))}\r\n                  </tbody>\r\n                  <tfoot>\r\n                    <tr>\r\n                      <th colSpan={5} className=\"number\">{formatNumber(quote.items?.reduce((acc, item) => acc + (item.proposals[0]?.quantity ?? item.quantity), 0), { digits: 0 })}</th>\r\n                      <th colSpan={4} className=\"number\">{formatNumber(quote.items?.reduce((acc, item) => acc + (item.proposals[0]?.totalValue ?? 0), 0))}</th>\r\n                      <th></th>\r\n                    </tr>\r\n                  </tfoot>\r\n                </table>\r\n              </div>\r\n            </section>\r\n          </main>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction formatDate(dateString) {\r\n  const options = { year: 'numeric', month: '2-digit', day: '2-digit' };\r\n  return new Date(dateString).toLocaleDateString(\"pt-BR\", options);\r\n}\r\n\r\nfunction formatNumber(number, options = { digits: 2 }) {\r\n  if (number == null) return \"\";\r\n  return new Intl.NumberFormat(\"pt-BR\", { minimumFractionDigits: options.digits, maximumFractionDigits: options.digits }).format(number);\r\n}"
  },
  "assets": {
    "styles": null
  }
}